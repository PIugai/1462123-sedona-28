const searchForm = document.querySelector('.search-form');
const searchButton = document.querySelector('.search__btn');
const searchFormCheckIn = searchForm.querySelector('.search-form__check-in');
const searchFormCheckout = searchForm.querySelector('.search-form__check-out');
const searchFormGuests = searchForm.querySelector('.search-form__guests');
searchButton.addEventListener('click', function(r) {
  r.preventDefault(),
    searchForm.classList.toggle('form-show'),
    searchFormCheckIn.focus(),
    searchForm.classList.contains('form-error') &&
      (r.preventDefault(), searchForm.classList.remove('form-error'));
}),
  searchForm.addEventListener('submit', function(r) {
    searchFormCheckIn.value &&
    searchFormCheckout.value &&
    searchFormGuests.value
      ? (searchForm.classList.remove('form-error'), alert('Form sent'))
      : (r.preventDefault(),
        searchForm.classList.add('form-error'),
        console.log('error'));
  }),
  window.addEventListener('keydown', function(r) {
    r.keyCode === 27 &&
      searchForm.classList.contains('search-form') &&
      (r.preventDefault(),
      searchForm.classList.remove('form-show'),
      searchForm.classList.remove('form-error'));
  });
